<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Timovi</title>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2418/2418779.png" type="image/x-icon" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous" />
</head>

<body data-bs-theme="dark">
<nav class="navbar navbar-expand-lg bg-danger navbar-dark mb-4">
  <div class="container-fluid">
    <a class="navbar-brand text-white" href="/index.html">
      <img src="https://media.formula1.com/image/upload/f_auto,c_limit,w_285,q_auto/f_auto/q_auto/fom-website/etc/designs/fom-website/images/F1_75_Logo"
        alt="Opis slike" width="205" height="24">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
      aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ms-3 fw-bold">
        <li class="nav-item">
          <a class="nav-link text-white" href="/index.html">
            <i class="fa-solid fa-film me-1"></i> Raspored trka
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="/list.html">
            <i class="fa-solid fa-user me-1"></i> Timovi
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="/driver.html">
            <i class="fa-solid fa-calendar-days me-1"></i> Vozaci
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="/result.html">
            <i class="fa-solid fa-ticket me-1"></i> Rezultati
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>




  <div class="container">
    <h1 class="display-4 fw-bold mb-4 text-center">F1 Timovi 2025</h1>

    <div class="card shadow">
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-hover table-striped align-middle text-center">
            <thead class="table-dark">
              <tr>
                <th>#</th>
                <th>NAZIV</th>
                <th>GLAVNO SEDIŠTE</th>
                <th>GODINA NASTANKA</th>
                <th>ŠASIJA</th>
                <th>BROJ TITULA</th>
                <th>JEDICINA ZA NAPAJANJE</th>
                <th>ŠEF TIMA</th>
                <th>DETALJI</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <template id="template">
    <tr>
      <td class="id"></td>
      <td class="name"></td>
      <td class="base_location"></td>
      <td class="founded_year"></td>
      <td class="car_name"></td>
      <td class="championships"></td>
      <td class="engine_supplier"></td>
      <td class="team_chef"></td>
      <td>
        <a class="details btn btn-sm btn-outline-danger fw-semibold" href="#">Detalji</a>
      </td>
    </tr>
  </template>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    const table = document.querySelector('tbody');
    const template = document.getElementById('template');

    axios.get('api/teams')
      .then(rsp => {
        rsp.data.forEach(team => {
          if (!team.shortName) {
            console.warn("Preskačem tim bez shortName:", team);
            return;
          }
          const copy = template.content.cloneNode(true);

          copy.querySelector('.id').innerText = team.id;
          copy.querySelector('.name').innerText = team.name;
          copy.querySelector('.base_location').innerText = team.baseLocation;
          copy.querySelector('.founded_year').innerText = team.foundedYear;
          copy.querySelector('.car_name').innerText = team.carName;
          copy.querySelector('.championships').innerText = team.championships;
          copy.querySelector('.engine_supplier').innerText = team.engineSupplier;
          copy.querySelector('.team_chef').innerText = team.teamChef;
          copy.querySelector('.details').href = `./team.html?l=${team.shortName}&id=${team.id}`;
          table.appendChild(copy);
        });
      });
  </script>
</body>

</html>